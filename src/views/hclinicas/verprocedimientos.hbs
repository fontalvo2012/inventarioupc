<style>
    $body-bg :  #eee;
$canvas-bg: #fff;

body{
  background-color: $body-bg;
}

canvas {
  display: block;
  margin: 0 auto;
  margin: calc(50vh - 150px) auto 0;
  background: $canvas-bg;
  border-radius: 3px;
  box-shadow: 0px 0px 15px 3px #ccc;
  cursor:pointer;
}

</style>
<div class="row">
    <div class="col-sm-3">
        <input type="text" name="codigo" id="codigo">
    </div>
    <div class="col-sm-3">
        <button class="btn btn-success btn-sm" onclick="verimagen()">Buscar</button>
    </div>
</div>
<div class="row">
    <div class="col-sm-12" id="galeria">
        
    </div>
</div>


<canvas id="canvas">Su navegador no soporta canvas :( </canvas>

<button onclick="guardarFirma()" class="btn btn-success">Mostrar</button>


<script>
    var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var cw = canvas.width = 300,
  cx = cw / 2;
var ch = canvas.height = 300,
  cy = ch / 2;

var dibujar = false;
ctx.lineJoin = "round";

canvas.addEventListener('mousedown', function(evt) {
  dibujar = true;
  ctx.clearRect(0, 0, cw, ch);
  ctx.beginPath();
}, false);
canvas.addEventListener('mouseup', function(evt) {
  dibujar = false;
}, false);
canvas.addEventListener("mouseout", function(evt) {
  dibujar = false;
}, false);

canvas.addEventListener("mousemove", function(evt) {
  if (dibujar) {
    var m = oMousePos(canvas, evt);
    ctx.lineTo(m.x, m.y);
    ctx.stroke();
  }
}, false);

function oMousePos(canvas, evt) {
  var ClientRect = canvas.getBoundingClientRect();
  return { //objeto
    x: Math.round(evt.clientX - ClientRect.left),
    y: Math.round(evt.clientY - ClientRect.top)
  }
}
function guardarFirma() { 
  var img = canvas.toDataURL("image/png");
  console.log(img);

  var image = new Image();
  image.src = img;
  document.getElementById('galeria').appendChild(image);
}
</script>
plena=`
    [ {
        "cd": "163",
        "cups": "E27101",
        "nombre": "AUDIOMETRÍA DE BEKESY",
        "valor": "13850",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "164",
        "cups": "954107",
        "nombre": "AUDIOMETRÍA DE TONOS PUROS AUDIOMETRIA TONAL",
        "valor": "10600",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "165",
        "cups": "954301",
        "nombre": "LOGOAUDIOMETRÍA",
        "valor": "10600",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "166",
        "cups": "954103",
        "nombre": "AUDIOMETRÍA POR REFUERZO VISUAL (VRA)",
        "valor": "10600",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "167",
        "cups": "954313",
        "nombre": "PRUEBAS DE RECLUTAMIENTO(266)",
        "valor": "6565",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "168",
        "cups": "954314",
        "nombre": "PRUEBAS DE FATIGA ACÚSTICA    (266)",
        "valor": "6565",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "169",
        "cups": "220100",
        "nombre": "PUNCION DE SENO MAXILAR ASPIRACION O LAVADO SOD",
        "valor": "10365",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "170",
        "cups": "954302",
        "nombre": "IMITANCIA ACÚSTICA IMPEDANCIOMETRIA",
        "valor": "7175",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "171",
        "cups": "954603",
        "nombre": "PROETZ ( DESPLAZAMIENTO)    (266)",
        "valor": "4245",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "172",
        "cups": "E27114",
        "nombre": "ACUFENOMETRÍA (INHIBICIÓN RESIDUAL)",
        "valor": "7175",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "173",
        "cups": "891201",
        "nombre": "RINOMANOMETRIA SIMPLE",
        "valor": "14340",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "174",
        "cups": "965200",
        "nombre": "LAVADO E IRRIGACION  DE OIDOS SOD",
        "valor": "7175",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "175",
        "cups": "202400",
        "nombre": "ASPIRACION DE OIDO MEDIO O CAVIDAD MASTOIDEA SOD",
        "valor": "23315",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "176",
        "cups": "M27117",
        "nombre": "VALORACIÓN ELÉCTRICA DE NERVIO FACIAL (PRUEBA DE HILGER)",
        "valor": "12625",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "177",
        "cups": "981100",
        "nombre": "EXTRACCION SIN INCISION DE CUERPO  EXTRAÑO DE CONDUCTO AUDITIVO EXTERNO SOD",
        "valor": "29075",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "178",
        "cups": "981200",
        "nombre": "EXTRACCION SIN INCISION CUERPO EXTRAÑO INTRALUMINAL DE LA NARIZ SOD",
        "valor": "29075",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "179",
        "cups": "210100",
        "nombre": "CONTROL DE EPISTAXIS, POR TAPONAMIENTO NASAL ANTERIOR O CAUTERIZACIÓN DE MUCOSA NASAL SOD",
        "valor": "20490",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "180",
        "cups": "210200",
        "nombre": "CONTROL DE EPISTAXIS, POR TAPONAMIENTO NASAL  POSTERIOR Y  ANTERIOR SOD",
        "valor": "54825",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "181",
        "cups": "952400",
        "nombre": "ELECTRONISTAGMOGRAFIA ENG  O FOTOELECTRONISTAGMOGRAFIA SOD",
        "valor": "85535",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "182",
        "cups": "965302",
        "nombre": "CURACION ENDOSCOPICA DE SENOS PARANASALES",
        "valor": "19075",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "183",
        "cups": "213110",
        "nombre": "ABLACIÓN LOCAL DE LESION INTRANASAL POR INFILTRACION",
        "valor": "19075",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "184",
        "cups": "954400",
        "nombre": "PRUEBAS CLINICAS DE LA FUNCION  VESTIBULAR SOD (268)",
        "valor": "14340",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "185",
        "cups": "216100",
        "nombre": "TURBINECTOMÍA POR  DIATERMIA, CRIO O ELECTROCOAGULACIÓN SOD",
        "valor": "46240",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "186",
        "cups": "954602",
        "nombre": "ELECTROCOCLEOGRAFIA(ECOG)",
        "valor": "86040",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "187",
        "cups": "939402",
        "nombre": "NEBULIZACION(266)",
        "valor": "4485",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "188",
        "cups": "E27128",
        "nombre": "DESHIDRATACIÓN DE CORNETES",
        "valor": "41545",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "189",
        "cups": "890202",
        "nombre": "CONSULTA DE PRIMERA VEZ POR OTORRINOLARINGOLOGIA",
        "valor": "12510",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "190",
        "cups": "890302",
        "nombre": "CONSULTA DE CONTROL O SEGUIMIENTO POR MEDICINA ESPECIALIZADA",
        "valor": "12510",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    },
    {
        "cd": "191",
        "cups": "890502",
        "nombre": "PARTICIPACION EN JUNTA MEDICA, POR MEDICINA ESPECIALIZADA (PACIENTE)",
        "valor": "5935",
        "a_quirurgico": "1",
        "ambito": "1",
        "atiende": "1",
        "autorizacion": "",
        "c_diagnostico": "",
        "c_diagnostico2": "",
        "c_diagnostico3": "",
        "c_externa": "15",
        "complicacion": "",
        "copago": "0",
        "entidad": "",
        "f_consulta": "",
        "f_procedimiento": "",
        "tipo": "c",
        "forma": "null"
    }

]
`;


function combertirIss(ob) {
    var obj = JSON.parse(ob);
    array=[];
    obj.forEach(element => {
      array.push(`${element.cups}::${element.nombre}`);    
    }); 
    return array;
  }
  
  $(function () { 
    $(".completarcups").autocomplete({
      source:combertirIss(plena)
    });
  });

  function addcups() {      
      var dato=$('#ord').val();
      dato+=$('#ccups').val()+'#';
      $('#ord').val(dato);
      $('#ccups').val('');
  }

  function consultarItem2() {
    var id = $('#item').val(); 
    var entidad=$('#entidad').val();
    
    $.ajax({
      url: '/ajaxitems2',
      type: 'POST',
      datatype: 'json',
      data: {
        id: id.substr(0,6),
        entidad:entidad
      },
      success: (data) => {
        console.log(data[0]);
        item = data[0];
      }
    });
  }

function recorrerIss() {
    var porcentaje =$('#porcentaje').val();
    var entidad = $('#entidad').val();
    const issplena=JSON.parse(plena);
    issplena.forEach(element => {
        if (element.forma=='null') {
            element.entidad = entidad;
            element.valor=parseInt(element.valor)+(parseInt(element.valor)*porcentaje/100);
            console.log(element);
        }
        var item=JSON.stringify(element);

        $.ajax({
            url: '/tarifas',
            type: 'POST',
            datatype: 'json',
            data:{
                item:item
            },
            success: (data) => {
                consultarTarifa();      
            }
          });
    });    
}

function consultarTarifa(){
    var entidad = $('#entidad').val();
    $.ajax({
    url: '/consultartarifas',
    type: 'POST',
    datatype: 'json',
    data:{
        entidad:entidad
    },
    success: (data) => {
        var cadena='';  
        data.forEach(element => {
            cadena+=` 
            <tr>
            <th scope="row">${element.data.cups}</th>
            <td>${element.data.nombre}</td>
            <td>$ ${number_format(element.data.valor, 2)}</td>
            <td><input type='number' id='d${element.id}' class='form-control form-control-sm p-0' placeholder=" $ Dato"></td>
            <td>
            <a href="#" class="btn btn-warning btn-sm" onclick="ActualizarItem('${element.id}')" ><i class='fas fa-sync' style='font-size:12px'></i></a>
            </td>
        </tr>`;
        });
        $('#vertarifas').html(cadena);      
    }
    });
}

function ActualizarItem(id) {
    var valor=$(`#d${id}`).val();   
   if (valor != '') {
     $.ajax({
        url: '/actualizaritem',
        type: 'POST',
        datatype: 'json',
        data:{
            id:id,
            valor:valor
        },
        success: (data) => {
            console.log(data);
            consultarTarifa();      
        }
      });
   }else{
       alert('Debe colocar un valor en el campo');
   }
}

function borrarItem(id) {
        $.ajax({
        url: '/borraritem',
        type: 'POST',
        datatype: 'json',
        data:{
            id:id
        },
        success: (data) => {
            console.log(data);
            consultarTarifa();      
        }
      });
}


function all_usuario() {
    var ini=$('#ini').val();
    var fin=$('#fin').val();
    var eps=$('#entidad').val();
   if (ini != "" && fin != "") {
    $.ajax({
        url: '/allusuario',
        type: 'POST',
        datatype: 'json',
        data:{
            ini:ini,
            fin:fin,
            eps,eps
        },
        success: (data) => {
            console.log(data); 
            if (data=='0') {
                $('#alert').html(` <div class="alert alert-warning" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i> NO SE ENCONTRARON REGISTROS EN ESTE RANGO FECHA ${ini}=>${fin} </div>`);    
            } else {
                $('#alert').html(` <div class="alert alert-success" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i> SE INGRESARON SASTISFACTORIAMENTE LAS FACTURAS DEL RANGO DE FECHA ${ini}=>${fin} </div>`);    
            }
            
        }
      });
   }else{
       alert('Debe ingresar los datos');
   }
}

function capita() {
    var ini = $('#ini').val();
    var fin = $('#fin').val();
    var eps = $('#entidad').val();
    if (ini != "" && fin != "") {
        $.ajax({
            url: '/capita',
            type: 'POST',
            datatype: 'json',
            data: {
                ini: ini,
                fin: fin,
                eps, eps
            },
            success: (data) => {
                console.log(data);
                if (data == '0') {
                    $('#alert').html(`<div class="alert alert-warning" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i> NO SE ENCONTRARON REGISTROS EN ESTE RANGO FECHA ${ini}=>${fin} </div>`);
                } else {
                    $('#alert').html(`<div class="alert alert-success" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i> SE INGRESARON SASTISFACTORIAMENTE LAS FACTURAS DEL RANGO DE FECHA ${ini}=>${fin} </div>`);
                }
            }
        });
    } else {
        alert('Debe ingresar los datos')
    }
}


function completMedicamentos() {
    $.ajax({
    url: '/ajaxMedicamentos',
    type: 'POST',
    datatype: 'json',   
    success: (data) => {
        console.log(data);
        var array=[];
        data.forEach(element => {
            array.push(element.medicamento);
        });

        $(".med").autocomplete({
            source:combertirIss(array)
          });
    }
  });
}
function AgregarMed() {
    var contenido= $('#receta').val();
    var fila=$('#cant').val()+' '+$('#medicamento').val()+'# Prescripcion: '; 
    if (contenido!='') {
        fila='#'+fila;
    }      
    $('#receta').val(contenido+fila.toUpperCase());
    $('#cant').val('1');
    $('#medicamento').val('')
}
function tipoFactura() {
           $.ajax({
            url: '/tipofactura',
            type: 'POST',
            datatype: 'json',
            data:{
                entidad:$('#entidad').val()
            },
            success: (data) => {    
                console.log(data);
                if (data == '') {
                    $("#factBotton").html(`<a  href="#" class="btn btn-warning btn-sm" id="all" onclick="all_usuario()">usuarios</a>`);
                }else{
                    $("#factBotton").html(`<a  href="#" class="btn btn-warning btn-sm" id="cap" onclick="capita()">Capita</a>`);
                }        
            }
          });   
}

function tipoFacturarips() {
    $.ajax({
     url: '/tipofactura',
     type: 'POST',
     datatype: 'json',
     data:{
         entidad:$('#entidad').val()
     },
     success: (data) => {    
         console.log(data);
         if (data == '') {
             $("#ripboton").html(`<button class="btn btn-warning btn-sm" id="all" onclick="all_usuario()">Crear</button>`);
         }else{
             $("#ripboton").html(`<a  href="#" class="btn btn-primary btn-sm" id="cap" onclick="ripsEventos()">Crear</a>`);
         }        
     }
   });   
}
function ripsEventos() {
   if ($('#ffinal').val()!='' && $('#finicio').val()!='') {
    $.ajax({
        url: '/ripseventos',
        type: 'POST',
        datatype: 'json',
        data:{
           nombre:$('#nombre').val(),
           consecutivo:$('#consecutivo').val(),
           finicio:$('#finicio').val(),
           ffinal:$('#ffinal').val(),
           entidad:$('#entidad').val(),
        },
        success: (data) => {    
            console.log(data); 
            $('#alert').html(` <div class="alert alert-success" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i> RIPS CREADOS</div>`);             
        }
      });   
   }else{
    $('#alert').html(` <div class="alert alert-danger" role="alert"><i class='fas fa-exclamation-triangle' style='font-size:24px'></i>VERIFIQUE LA FECHA</div>`);             
   }
}


function verRips() {
    $.ajax({
     url: '/descargaRips',
     type: 'POST',
     datatype: 'json',
     data:{
         entidad:$('#entidad').val()
     },
     success: (data) => {    
         console.log(data);
         var cadena='';
        data.forEach(element => {
            cadena+=`
            <tr>
            <th scope="row">Rips: ${element.consecutivo}</th>                                                  
            <td>
                <a href="/descarga/${element.consecutivo}/AC" class="btn btn-success btn-sm"><i class='fas fa-cloud-download-alt' style='font-size:24px'></i> Descargar AC</a>
                <a href="/descarga/${element.consecutivo}/AF" class="btn btn-success btn-sm"><i class='fas fa-cloud-download-alt' style='font-size:24px'></i> Descargar AF</a>
                <a href="/descarga/${element.consecutivo}/CT" class="btn btn-success btn-sm"><i class='fas fa-cloud-download-alt' style='font-size:24px'></i> Descargar CT</a>
                <a href="/descarga/${element.consecutivo}/US" class="btn btn-success btn-sm"><i class='fas fa-cloud-download-alt' style='font-size:24px'></i> Descargar US</a>
                <a href="/descarga/${element.consecutivo}/AP" class="btn btn-success btn-sm"><i class='fas fa-cloud-download-alt' style='font-size:24px'></i> Descargar AP</a>
            </td>
        </tr>
            `;
        });

         $('#rips').html(cadena);
         
     }
   });   
}